<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenPowderGame</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="game-container">
        <div class="top-controls">
            <div class="menu-controls">
                <button id="save-btn" title="Save Creation">Save</button>
                <button id="load-btn" title="Load Creation">Load</button>
                <button id="clear-btn" title="Clear All">Clear</button>
            </div>
            <div class="tool-panel">
                <div class="tool-options">
                    <div class="tool-group">
                        <button class="tool-btn active" data-tool="brush" title="Brush">Brush</button>
                        <button class="tool-btn" data-tool="line" title="Line">Line</button>
                        <button class="tool-btn" data-tool="rectangle" title="Rectangle">Rect</button>
                        <button class="tool-btn" data-tool="ellipse" title="Ellipse">Circle</button>
                        <button class="tool-btn" data-tool="eraser" title="Eraser">Eraser</button>
                    </div>
                    <div class="size-control">
                        <label for="brush-size">Size:</label>
                        <input type="range" id="brush-size" min="1" max="50" value="5">
                        <span id="size-value">5</span>
                    </div>
                </div>
            </div>
            <div class="settings-panel">
                <button id="settings-btn" title="Settings">⚙️</button>
                <div id="settings-dropdown" class="hidden">
                    <div class="setting">
                        <label for="simulation-speed">Speed:</label>
                        <input type="range" id="simulation-speed" min="1" max="10" value="6">
                    </div>
                    <div class="setting">
                        <label for="gravity-direction">Gravity:</label>
                        <select id="gravity-direction">
                            <option value="down">Down</option>
                            <option value="up">Up</option>
                            <option value="left">Left</option>
                            <option value="right">Right</option>
                            <option value="none">None</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="main-content">
            <canvas id="game-canvas"></canvas>
            
            <div class="element-panel">
                <h3>Elements</h3>
                <div class="element-group">
                    <h4>Solids</h4>
                    <button class="element-btn active" data-element="sand">Sand</button>
                    <button class="element-btn" data-element="wall">Wall</button>
                    <button class="element-btn" data-element="wood">Wood</button>
                    <button class="element-btn" data-element="metal">Metal</button>
                </div>
                <div class="element-group">
                    <h4>Liquids</h4>
                    <button class="element-btn" data-element="water">Water</button>
                    <button class="element-btn" data-element="oil">Oil</button>
                    <button class="element-btn" data-element="acid">Acid</button>
                </div>
                <div class="element-group">
                    <h4>Gases</h4>
                    <button class="element-btn" data-element="steam">Steam</button>
                    <button class="element-btn" data-element="smoke">Smoke</button>
                </div>
                <div class="element-group">
                    <h4>Energy</h4>
                    <button class="element-btn" data-element="fire">Fire</button>
                    <button class="element-btn" data-element="spark">Spark</button>
                </div>
                <div class="element-group">
                    <h4>Special</h4>
                    <button class="element-btn" data-element="source-water">Water Source</button>
                    <button class="element-btn" data-element="source-sand">Sand Source</button>
                    <button class="element-btn" data-element="void">Void</button>
                </div>
            </div>
        </div>
        
        <div class="bottom-controls">
            <div class="playback-controls">
                <button id="play-pause-btn" title="Play/Pause">▶️</button>
                <button id="step-btn" title="Step Forward">⏩</button>
                <button id="undo-btn" title="Undo" disabled>↩️</button>
                <button id="redo-btn" title="Redo" disabled>↪️</button>
            </div>
            <div class="stats">
                <span id="fps">FPS: 60</span>
                <span id="particle-count">Particles: 0</span>
            </div>
        </div>
    </div>
    
    <div id="modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 id="modal-title">Save Creation</h2>
            <div id="modal-body">
                <!-- Modal content will be inserted here -->
            </div>
            <div class="modal-footer">
                <button id="modal-cancel-btn">Cancel</button>
                <button id="modal-confirm-btn">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Load scripts -->
    <script src="js/utils.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/particles.js"></script>
    <script src="js/interactions.js"></script>
    <script src="js/engine.js"></script>
    <script src="js/renderer.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
